💡✔️❌❓❔👀➕➖⚠️📝🐧👍👎




----
##  클로져 (Clorsure) 
`클로저` : 내부함수가 참조하는 외부함수의 지역변수가 외부함수가 리턴된 이후에도 유효성이 유지 되는 내부함수.
+ 클로져가 가지는 3가지 스코프 체인
  + 블록 내 정의 된 함수
  + 외부 함수 내부에 정의된 변수
  + 전역 변수에 대한 접근

```js
const grandParent = (g1, g2) => { 
  const g3 = 3;
  return (parent = (p1, p2) => {
    const p3 = 33;
    return (child = (c1, c2) => {
      const c3 = 333;
      return g1 + g2 + g3 + p1 + p2 + p3 + c1 + c2 + c3;
    });
  });
};

const parentFunction = grandParent(1, 2);
const childFunction = parentFunction(11, 22);
console.log(childFunction(111, 222));  /// 738
```
[설명]
 * grandParent Func `g3` 내부 변수를 가지고 있으며, `parent Func` 리턴한다.
 * parent Func 내부에 `p3` 변수를 가지고 있으며, `child Func` 리턴한다.
 * child Func `c3` 변수를 가지며 자신의 외부 함수인 grandparent의 `param`와 `param의 변수` 또 다른 외부함수인 parent인 `param`과 그 변수 그리고 자신의 `param`과 변수의 총합을 리턴한다.
* 이때 child는 클로져이며, 외부함수의 파라미터와 변수에 접근이 가능하다.
--------

## reduce 활용

합계 구하기
```js
const students = [
  { name: "a", age: 31, score: 85 },
  { name: "b", age: 31, score: 95 },
  { name: "c", age: 35, score: 76 },
];

const avg = students
  .filter((student) => student.age >= 21 && student.age < 30)
  .map((student) => student.score)
  .reduce(
    (previous, current, array) => previous + current / array.length,
    0
  );
console.log(avg.toFixed(2));
```
-----
합계 구하기
```js
const values = [1, 2, 3, 4, 5, 6];
const avg = values.reduce((previous, current) => previous + current, 0);
```
----
최대값 구하기
```js
const values = [1, 2, 3, 4, 5, 6];
const avg = values.reduce(
  (previous, current) => (previous > current ? previous : current),
  0
);
```
---

최대값 구하기 
```js
const max = Math.max(...values);
```
---
요소의 중복 횟수 구하기
```js
const fruits = ["banana", "apple", "orange", "apple", "orange", "apple"];
const count = fruits.reduce((init, curr) => {
  init[curr] = (init[curr] || 0) + 1;
  return init;
}, {});
console.log(count);
```
---
중첩 배영 평탄화
```js
const values = [1, [2, 3], 4, [5, 6]];
//concat : 인수로 전달된 값들을 원본 배열의 마지막 요소로 추가하여 새로운 배열을 반환
//push, unshift를 대체할 수 있고 차이는 원본, concat은 사본
const flat = values.reduce((init, curr) => init.concat(curr), []);

    //내장메서드 : flat 메서드 사용이 더 직관적
    //float(2) : 인수 2는 중첩 배열을 평탄화 하기 위한 깊이 값.
    [1, [2, 3], 4, [5, 6]].flat(2) -> [1,2,3,4,5,6]
```
---

중복 요소 제거
```js
const values = [1, 2, 1, 3, 5, 4, 5, 3, 4, 4];
const result = values.reduce((init, curr, index, array) => {
  if (array.indexOf(curr) === index) {
    init.push(curr);
  }
  return init; // return 값은 `[]` 이므로, 결과에 영향이 없다.
}, []);
```